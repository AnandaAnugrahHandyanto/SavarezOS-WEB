---
import MainLayout from "../layouts/MainLayout.astro";
---

<MainLayout>

<section
  class="relative min-h-screen flex items-center justify-center overflow-hidden
  bg-gradient-to-br from-gray-100 via-white to-gray-200
  dark:from-slate-900 dark:via-black dark:to-purple-950"
>

  <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(59,130,246,0.25),transparent_70%)]"></div>

  <div class="relative z-10 text-center px-6 max-w-4xl">

    <span
      class="inline-block mb-4 px-4 py-1 rounded-full
      bg-blue-500/10 text-blue-600 dark:text-blue-400
      text-sm font-semibold"
    >
      Debian ‚Ä¢ KDE Plasma ‚Ä¢ Android Dev
    </span>

    <h1 class="text-6xl md:text-7xl font-extrabold mb-6 tracking-tight">
      <span class="text-blue-600 dark:text-blue-400">Savarez</span>OS
    </h1>

    <p class="text-gray-700 dark:text-gray-300 text-lg md:text-xl mb-10 leading-relaxed">
      A professional Linux distribution built for Android developers,
      kernel engineers, and power users.
    </p>

    <div class="flex justify-center gap-5">

      <a href="/download"
         class="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500
         px-8 py-3 rounded-xl font-semibold text-white
         shadow-xl transition hover:scale-105">
        Download
      </a>

      <a href="https://github.com/AnandaAnugrahHandyanto/SavarezOS_Debian-Based"
         target="_blank"
         class="border border-gray-400 dark:border-gray-600
         px-8 py-3 rounded-xl font-semibold
         hover:border-blue-500 hover:text-blue-500 transition">
        Source Code
      </a>

    </div>

  </div>

</section>

<section class="reveal py-20 bg-gray-100 dark:bg-gray-950">

  <div class="max-w-7xl mx-auto px-6 grid md:grid-cols-4 gap-8 text-center">

    <div>
      <h3 class="text-4xl font-bold text-blue-600 dark:text-blue-400">10+</h3>
      <p class="text-gray-600 dark:text-gray-400 mt-2">Preinstalled Tools</p>
    </div>

    <div>
      <h3 class="text-4xl font-bold text-blue-600 dark:text-blue-400">Debian</h3>
      <p class="text-gray-600 dark:text-gray-400 mt-2">Stable Base</p>
    </div>

    <div>
      <h3 class="text-4xl font-bold text-blue-600 dark:text-blue-400">KDE</h3>
      <p class="text-gray-600 dark:text-gray-400 mt-2">Plasma Desktop</p>
    </div>

    <div>
      <h3 class="text-4xl font-bold text-blue-600 dark:text-blue-400">24/7</h3>
      <p class="text-gray-600 dark:text-gray-400 mt-2">Dev Ready</p>
    </div>

  </div>

</section>

<section class="reveal py-24 bg-white dark:bg-gray-900">

  <div class="max-w-7xl mx-auto px-6">

    <h2 class="text-4xl font-bold text-center mb-16">
      Designed for Serious Development
    </h2>

    <div class="grid md:grid-cols-3 gap-10">

      <div
        class="bg-gray-50 dark:bg-gray-800 p-8 rounded-2xl
        shadow-xl hover:shadow-blue-500/20 transition"
      >

        <h3 class="text-xl font-semibold mb-4 text-blue-600 dark:text-blue-400">
          ‚ö° Extreme Performance
        </h3>

        <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
          Optimized system configuration for compiling Android ROMs
          and Linux kernels efficiently.
        </p>

      </div>


      <div
        class="bg-gray-50 dark:bg-gray-800 p-8 rounded-2xl
        shadow-xl hover:shadow-blue-500/20 transition"
      >

        <h3 class="text-xl font-semibold mb-4 text-blue-600 dark:text-blue-400">
          üîê Security & Stability
        </h3>

        <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
          Long-term Debian support with frequent security updates.
        </p>

      </div>


      <div
        class="bg-gray-50 dark:bg-gray-800 p-8 rounded-2xl
        shadow-xl hover:shadow-blue-500/20 transition"
      >

        <h3 class="text-xl font-semibold mb-4 text-blue-600 dark:text-blue-400">
          üß© Integrated Toolchain
        </h3>

        <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
          Full Android build environment preconfigured out-of-the-box.
        </p>

      </div>

    </div>

  </div>

</section>


<section class="reveal py-24 bg-gray-100 dark:bg-gray-900">

  <div class="max-w-7xl mx-auto px-6 grid md:grid-cols-2 gap-14 items-center">

    <div>

      <h2 class="text-4xl font-bold mb-6">
        Professional Workflow
      </h2>

      <p class="text-gray-700 dark:text-gray-300 mb-6 leading-relaxed">
        SavarezOS enables a seamless workflow for building,
        testing, and deploying Android systems.
      </p>

      <ul class="space-y-3 text-gray-700 dark:text-gray-300">

        <li>‚úî AOSP Build Environment</li>
        <li>‚úî Kernel Toolchain</li>
        <li>‚úî Device Tree Management</li>
        <li>‚úî Recovery & Flashing Tools</li>
        <li>‚úî CI/CD Ready</li>

      </ul>

    </div>


    <div class="relative">

      <div
        class="h-72 rounded-2xl bg-gray-200 dark:bg-gray-800
        border border-gray-300 dark:border-gray-700
        flex items-center justify-center text-gray-500 shadow-2xl"
      >
        Desktop Preview
      </div>

    </div>

  </div>

</section>


<section class="reveal py-24 bg-gray-100 dark:bg-gray-900">

  <div class="max-w-6xl mx-auto px-6 text-center">

    <h2 class="text-4xl font-bold mb-12">
      Desktop Preview
    </h2>

    <div class="relative max-w-4xl mx-auto">

      <img
        id="slider"
        src="/screenshots/desktop1.png"
        class="rounded-2xl shadow-2xl transition-all duration-700"
      />

    </div>

  </div>

</section>

<section class="reveal py-24 bg-white dark:bg-gray-900">

  <div class="max-w-5xl mx-auto px-6 text-center">

    <h2 class="text-4xl font-bold mb-4">
      Latest ISO Release
    </h2>

    <p class="text-gray-600 dark:text-gray-400 mb-10">
      Automatically fetched from GitHub Releases
    </p>


    <div
      class="
        bg-gray-50 dark:bg-gray-800
        p-8 rounded-2xl shadow-xl
        max-w-xl mx-auto
        text-left
      "
    >

      <div class="flex justify-between items-center mb-4">

        <h3 class="text-xl font-semibold">
          SavarezOS ISO
        </h3>

        <span
          id="iso-status"
          class="
            px-3 py-1 text-sm rounded-full
            bg-gray-200 dark:bg-gray-700
          "
        >
          Loading...
        </span>

      </div>


      <p class="mb-2">
        <strong>Version:</strong>
        <span id="iso-version">--</span>
      </p>

      <p class="mb-2">
        <strong>Release Date:</strong>
        <span id="iso-date">--</span>
      </p>

      <p class="mb-6">
        <strong>Size:</strong>
        <span id="iso-size">--</span>
      </p>


      <a
        id="iso-download"
        href="#"
        target="_blank"
        class="
          inline-block
          bg-blue-600 hover:bg-blue-700
          text-white font-semibold
          px-6 py-3 rounded-xl
          transition
        "
      >
        Download ISO
      </a>

    </div>

  </div>

</section>

<section
  class="reveal py-24 text-center
  bg-gradient-to-r from-blue-500 to-purple-500
  dark:from-blue-600 dark:to-purple-700"
>

  <h2 class="text-4xl font-bold mb-6 text-white">
    Ready to Build Android Faster?
  </h2>

  <p class="mb-8 text-lg text-blue-100">
    Join developers who trust SavarezOS as their daily driver.
  </p>

  <a href="/download"
     class="bg-white text-blue-600 px-8 py-3 rounded-xl
     font-semibold shadow-xl hover:scale-105 transition">
    Get Started
  </a>

</section>

<script is:inline>
document.addEventListener("DOMContentLoaded", () => {

  try {

    const images = [
      "/sav/1.png",
      "/sav/2.png",
      "/sav/3.png"
    ];

    let i = 0;

    setInterval(() => {

      const img = document.getElementById("slider");
      if (!img) return;

      i = (i + 1) % images.length;

      img.classList.add("opacity-0");

      setTimeout(() => {
        img.src = images[i];
        img.classList.remove("opacity-0");
      }, 300);

    }, 4000);

  } catch (e) {
    console.warn("Slider error:", e);
  }


  try {

    const observer = new IntersectionObserver((entries) => {

      entries.forEach(entry => {

        if (entry.isIntersecting) {
          entry.target.classList.add("show");
        }

      });

    }, {
      threshold: 0.15
    });


    document.querySelectorAll(".reveal").forEach(el => {
      observer.observe(el);
    });

  } catch (e) {
    console.warn("Reveal error:", e);
  }


  try {

    const GITHUB_REPO = "AnandaAnugrahHandyanto/SavarezOS_Debian-Based";

    async function loadISO() {

      const status = document.getElementById("iso-status");
      const version = document.getElementById("iso-version");
      const date = document.getElementById("iso-date");
      const size = document.getElementById("iso-size");
      const download = document.getElementById("iso-download");

      if (!status) return;


      const res = await fetch(
        `https://api.github.com/repos/${GITHUB_REPO}/releases/latest`
      );

      if (!res.ok) throw new Error("Fetch failed");

      const data = await res.json();


      const assets = Array.isArray(data.assets)
        ? data.assets
        : [];


      const iso = assets.find(f =>
        f.name && f.name.endsWith(".iso")
      );


      version.textContent = data.tag_name || data.name || "-";

      date.textContent = new Date(
        data.published_at
      ).toLocaleDateString("id-ID");


      status.textContent = "Latest";
      status.classList.add(
        "bg-green-200",
        "dark:bg-green-800",
        "text-green-700",
        "dark:text-green-200"
      );


      if (iso) {

        size.textContent =
          (iso.size / 1024 / 1024).toFixed(1) + " MB";

        download.href = iso.browser_download_url;

      } else {

        size.textContent = "Unknown";

        download.textContent = "View Release";

        download.href = data.html_url;

      }

    }


    loadISO();

  } catch (e) {
    console.warn("ISO error:", e);
  }

});
</script>

<style>

  .reveal {
    opacity: 0;
    transform: translateY(40px);
    transition: all 0.8s ease;
  }

  .reveal.show {
    opacity: 1;
    transform: translateY(0);
  }

</style>

</MainLayout>
