---
import MainLayout from "../layouts/MainLayout.astro";
---

<MainLayout>
  <section class="relative min-h-screen pt-44 pb-32 flex flex-col items-center bg-[#020203] overflow-hidden">
    <div class="absolute top-0 w-full h-px bg-gradient-to-r from-transparent via-blue-500/20 to-transparent"></div>

    <div class="relative z-10 w-full max-w-5xl px-10 text-center">
      <h1 class="text-7xl font-black text-white uppercase italic mb-20 leading-none">The Forge<span class="text-blue-600">.</span></h1>

      <div class="liquid-glass rounded-[3rem] p-12 grid md:grid-cols-2 gap-16 items-center text-left">
        <div>
          <span class="text-blue-500 text-[10px] font-black tracking-[0.4em] uppercase mb-4 block">// Official Release</span>
          <h2 class="text-4xl font-bold text-white mb-8 tracking-tighter italic uppercase">SavarezOS <span id="iso-version" class="text-blue-600">--</span></h2>
          
          <div class="space-y-6 mb-12 border-l border-white/10 pl-6">
            <div class="flex justify-between"><span class="text-[10px] font-bold uppercase text-gray-500">Architecture</span><span class="text-white text-xs font-mono italic">x86_64</span></div>
            <div class="flex justify-between"><span class="text-[10px] font-bold uppercase text-gray-500">File Size</span><span id="iso-size" class="text-white text-xs font-mono italic">--</span></div>
            <div class="flex justify-between"><span class="text-[10px] font-bold uppercase text-gray-500">Build Date</span><span id="iso-date" class="text-white text-xs font-mono italic">--</span></div>
          </div>

          <a id="iso-download" href="#" class="inline-block w-full bg-white text-black py-5 rounded-2xl font-black text-center uppercase text-[11px] tracking-[0.4em] hover:bg-blue-600 hover:text-white transition-all">
            Download ISO
          </a>
        </div>
        
        <div class="hidden md:block opacity-50">
            <div class="p-10 border border-white/10 rounded-[2rem]">
                <h4 class="text-blue-400 text-[10px] font-black uppercase tracking-widest mb-6 italic">Requirements</h4>
                <ul class="text-[11px] space-y-3 font-light">
                    <li>• 8GB RAM Minimum</li>
                    <li>• 64GB SSD Storage</li>
                    <li>• Quad-Core Processor</li>
                </ul>
            </div>
        </div>
      </div>
    </div>
  </section>

  <script is:inline>
    async function fetchISO() {
      try {
        const res = await fetch(`https://api.github.com/repos/AnandaAnugrahHandyanto/SavarezOS_Debian-Based/releases/latest`);
        const data = await res.json();
        const iso = data.assets.find(f => f.name && f.name.endsWith(".iso"));
        document.getElementById("iso-version").innerText = data.tag_name || "--";
        document.getElementById("iso-date").innerText = new Date(data.published_at).toLocaleDateString("id-ID");
        if (iso) {
          document.getElementById("iso-size").innerText = (iso.size / 1024 / 1024 / 1024).toFixed(2) + " GB";
          document.getElementById("iso-download").href = iso.browser_download_url;
        }
      } catch (e) { console.error("Forge Error:", e); }
    }
    fetchISO();
  </script>
</MainLayout>
