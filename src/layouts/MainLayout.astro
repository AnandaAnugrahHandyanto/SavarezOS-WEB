---
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
import "../styles/global.css";
---
<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
  <head>

    <script is:inline>
      (function () {
        try {
          const saved = localStorage.getItem("theme");

          if (saved === "dark") {
            document.documentElement.classList.add("dark");
          } else if (saved === "light") {
            document.documentElement.classList.remove("dark");
          } else {
            if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
              document.documentElement.classList.add("dark");
            }
          }
        } catch {}
      })();
    </script>


    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>SavarezOS</title>

  </head>


  <body
    class="
      bg-white text-gray-900
      dark:bg-gray-900 dark:text-gray-100
      font-sans antialiased
      transition-colors duration-300
    "
  >

    <Navbar />


    <main class="min-h-screen pt-20">
      <slot />
    </main>


    <Footer />

    <script is:inline>
      document.addEventListener("DOMContentLoaded", () => {

        const toggle = document.getElementById("theme-toggle");

        if (!toggle) return;


        toggle.addEventListener("click", () => {

          const html = document.documentElement;

          if (html.classList.contains("dark")) {

            html.classList.remove("dark");
            localStorage.setItem("theme", "light");

          } else {

            html.classList.add("dark");
            localStorage.setItem("theme", "dark");

          }

        });

      });
    </script>

  </body>
</html>
